CREATE TABLE t1 (c1 INT, KEY(c1));
CREATE TABLE t2 (c1 BIGINT, KEY(c1));
CREATE TABLE t3 (c1 DECIMAL(10,2), KEY(c1));
CREATE TABLE t4 (c1 FLOAT, KEY(c1));
CREATE TABLE t5 (c1 DOUBLE, KEY(c1));
CREATE TABLE t6 (c1 CHAR(60), KEY(c1));
CREATE TABLE t7 (c1 VARCHAR(60), KEY(c1));
CREATE TABLE t8 (c1 TIME, KEY(c1));
CREATE TABLE t9 (c1 TIMESTAMP, KEY(c1));
CREATE TABLE t10 (c1 DATE, KEY(c1));
CREATE TABLE t11 (c1 DATETIME, KEY(c1));
CREATE TABLE t12 (c1 CHAR(10) CHARACTER SET UTF16, KEY(c1));
CREATE TABLE t13 (c1 BIGINT UNSIGNED, KEY(c1));
INSERT INTO t1 VALUES (19910113), (20010514), (19930513), (19970416), (19960416), (19950414);
INSERT INTO t2 VALUES (19930513), (19990419), (19950414), (-1), (-19950414);
INSERT INTO t3 VALUES (19930513.3), (19990519), (19950414.0), (19950414.1);
INSERT INTO t4 VALUES (19930513.3), (19990419.2), (19950414e0), (19950414.1e0);
INSERT INTO t5 VALUES (19930513.3), (19990419.2), (19950414e0), (19950414.1e0);
INSERT INTO t6 VALUES ('19910111'), ('20010513'), ('19930513'), ('19950414'), ('19950414.1');
INSERT INTO t7 VALUES ('19910111'), ('20010513'), ('19930513'), ('19950414'), ('19950414.1');
INSERT INTO t8 VALUES ('10:22:33'), ('12:34:56'), ('33:22:33');
INSERT INTO t9 VALUES (20150413102233), (19990102123456);
INSERT INTO t10 VALUES ('1998-01-01'), ('2015-04-13');
INSERT INTO t11 VALUES ('1999-08-14 01:00:00'), ('2015-04-13 10:22:33'), ('2015-04-14 09:22:33');
INSERT INTO t12 VALUES ('19910111'), ('19930513'), ('20010513'), ('19950414') , ('19950414.1');
INSERT INTO t13 VALUES (19950414),(18446744073709551615);
ANALYZE TABLE t1, t2, t3, t4, t5, t6, t7, t8, t9, t10, t11, t12, t13;
set optimizer_switch='semijoin=off,materialization=on,subquery_materialization_cost_based=off';
SET TIMESTAMP=UNIX_TIMESTAMP(20150413000000);
EXPLAIN SELECT * FROM t1 STRAIGHT_JOIN t2 WHERE t1.c1=t2.c1;
SELECT * FROM t1 STRAIGHT_JOIN t2 WHERE t1.c1=t2.c1;
EXPLAIN SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t2);
SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t2);
EXPLAIN SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t2);
SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t2);
EXPLAIN SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t2 WHERE ASCII(c1) = 50);
SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t2 WHERE ASCII(c1) = 50);
EXPLAIN SELECT * FROM t1 STRAIGHT_JOIN t3 WHERE t1.c1=t3.c1;
SELECT * FROM t1 STRAIGHT_JOIN t3 WHERE t1.c1=t3.c1;
EXPLAIN SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t3);
SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t3);
EXPLAIN SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t3);
SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t3);
EXPLAIN SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t3 WHERE ASCII(c1) = 50);
SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t3 WHERE ASCII(c1) = 50);
EXPLAIN SELECT * FROM t1 STRAIGHT_JOIN t4 WHERE t1.c1=t4.c1;
SELECT * FROM t1 STRAIGHT_JOIN t4 WHERE t1.c1=t4.c1;
EXPLAIN SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t4);
SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t4);
EXPLAIN SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t4);
SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t4);
EXPLAIN SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t4 WHERE ASCII(c1) = 50);
SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t4 WHERE ASCII(c1) = 50);
EXPLAIN SELECT * FROM t1 STRAIGHT_JOIN t5 WHERE t1.c1=t5.c1;
SELECT * FROM t1 STRAIGHT_JOIN t5 WHERE t1.c1=t5.c1;
EXPLAIN SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t5);
SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t5);
EXPLAIN SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t5);
SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t5);
EXPLAIN SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t5 WHERE ASCII(c1) = 50);
SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t5 WHERE ASCII(c1) = 50);
EXPLAIN SELECT * FROM t1 STRAIGHT_JOIN t6 WHERE t1.c1=t6.c1;
SELECT * FROM t1 STRAIGHT_JOIN t6 WHERE t1.c1=t6.c1;
EXPLAIN SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t6);
SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t6);
EXPLAIN SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t6);
SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t6);
EXPLAIN SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t6 WHERE ASCII(c1) = 50);
SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t6 WHERE ASCII(c1) = 50);
EXPLAIN SELECT * FROM t1 STRAIGHT_JOIN t7 WHERE t1.c1=t7.c1;
SELECT * FROM t1 STRAIGHT_JOIN t7 WHERE t1.c1=t7.c1;
EXPLAIN SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t7);
SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t7);
EXPLAIN SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t7);
SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t7);
EXPLAIN SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t7 WHERE ASCII(c1) = 50);
SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t7 WHERE ASCII(c1) = 50);
EXPLAIN SELECT * FROM t1 STRAIGHT_JOIN t8 WHERE t1.c1=t8.c1;
SELECT * FROM t1 STRAIGHT_JOIN t8 WHERE t1.c1=t8.c1;
EXPLAIN SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t8);
SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t8);
EXPLAIN SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t8);
SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t8);
EXPLAIN SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t8 WHERE ASCII(c1) = 50);
SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t8 WHERE ASCII(c1) = 50);
EXPLAIN SELECT * FROM t1 STRAIGHT_JOIN t9 WHERE t1.c1=t9.c1;
SELECT * FROM t1 STRAIGHT_JOIN t9 WHERE t1.c1=t9.c1;
EXPLAIN SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t9);
SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t9);
EXPLAIN SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t9);
SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t9);
EXPLAIN SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t9 WHERE ASCII(c1) = 50);
SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t9 WHERE ASCII(c1) = 50);
EXPLAIN SELECT * FROM t1 STRAIGHT_JOIN t10 WHERE t1.c1=t10.c1;
SELECT * FROM t1 STRAIGHT_JOIN t10 WHERE t1.c1=t10.c1;
EXPLAIN SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t10);
SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t10);
EXPLAIN SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t10);
SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t10);
EXPLAIN SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t10 WHERE ASCII(c1) = 50);
SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t10 WHERE ASCII(c1) = 50);
EXPLAIN SELECT * FROM t1 STRAIGHT_JOIN t11 WHERE t1.c1=t11.c1;
SELECT * FROM t1 STRAIGHT_JOIN t11 WHERE t1.c1=t11.c1;
EXPLAIN SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t11);
SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t11);
EXPLAIN SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t11);
SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t11);
EXPLAIN SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t11 WHERE ASCII(c1) = 50);
SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t11 WHERE ASCII(c1) = 50);
EXPLAIN SELECT * FROM t1 STRAIGHT_JOIN t12 WHERE t1.c1=t12.c1;
SELECT * FROM t1 STRAIGHT_JOIN t12 WHERE t1.c1=t12.c1;
EXPLAIN SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t12);
SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t12);
EXPLAIN SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t12);
SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t12);
EXPLAIN SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t12 WHERE ASCII(c1) = 50);
SELECT 1 FROM t1 WHERE (SELECT 1 FROM t1 WHERE ASCII(c1) = 50) IN (SELECT 1 FROM t12 WHERE ASCII(c1) = 50);
EXPLAIN SELECT * FROM t1 STRAIGHT_JOIN t13 WHERE t1.c1=t13.c1;
SELECT * FROM t1 STRAIGHT_JOIN t13 WHERE t1.c1=t13.c1;
EXPLAIN SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t13);
SELECT * FROM t1 WHERE c1 IN (SELECT c1 FROM t13);
EXPLAIN SELECT * FROM t1 GROUP BY c1 HAVING c1 IN (SELECT c1 FROM t13);
