select str_to_date(concat('15-01-2001',' 2:59:58.999'), concat('%d-%m-%Y',' ','%H:%i:%s.%f'));
select STR_TO_DATE('2004.12.12 22.30.61','%Y.%m.%d %T');
SET sql_mode = 'NO_ENGINE_SUBSTITUTION';
create table t1 (date char(30), format char(30) not null);
select date,format,str_to_date(date, format) as str_to_date from t1;
select date,format,concat('',str_to_date(date, format)) as con from t1;
select date,format,cast(str_to_date(date, format) as datetime) as datetime from t1;
select date,format,DATE(str_to_date(date, format)) as date2 from t1;
select date,format,TIME(str_to_date(date, format)) as time from t1;
select date,format,concat(TIME(str_to_date(date, format))) as time2 from t1;
select concat('',str_to_date('8:11:2.123456 03-01-02','%H:%i:%S.%f %y-%m-%d'));
truncate table t1;
insert into t1 values ('2003-01-02 10:11:12 PM', '%Y-%m-%d %H:%i:%S %p'), ('2003-01-02 10:11:12.123456', '%Y-%m-%d %h:%i:%S %p'), ('2003-01-02 10:11:12AM', '%Y-%m-%d %h:%i:%S.%f %p'), ('2003-01-02 10:11:12AN', '%Y-%m-%d %h:%i:%S%p'), ('2003-01-02 10:11:12 PM', '%y-%m-%d %H:%i:%S %p'), ('10:20:10AM', '%H:%i:%s%p'), ('15 Septembei 2001', '%d %M %Y'), ('15 Ju 2001', '%d %M %Y'), ('Sund 15 MA', '%W %d %b %Y'), ('Thursdai 12 1998', '%W %u %Y'), ('Sunday 01 2001', '%W %v %X'), ('Tuesday 52 2001', '%W %V %x'), ('Tuesday 52 2001', '%W %V %Y'), ('Tuesday 52 2001', '%W %u %x'), ('7 53 1998', '%w %u %Y'), (NULL, get_format(DATE,'USA'));
select date,format,str_to_date(date, format) as str_to_date from t1;
select date,format,concat(str_to_date(date, format),'') as con from t1;
truncate table t1;
insert into t1 values ('10:20:10AM', '%h:%i:%s'), ('2003-01-02 10:11:12', '%Y-%m-%d %h:%i:%S'), ('03-01-02 10:11:12 PM', '%Y-%m-%d %h:%i:%S %p');
select date,format,str_to_date(date, format) as str_to_date from t1;
select date,format,concat(str_to_date(date, format),'') as con from t1;
drop table t1;
SET sql_mode = default;
select get_format(DATE, 'USA') as a;
select get_format(TIME, 'internal') as a;
select get_format(DATETIME, 'eur') as a;
select get_format(TIMESTAMP, 'eur') as a;
select get_format(DATE, 'TEST') as a;
select str_to_date('15-01-2001 12:59:59', GET_FORMAT(DATE,'USA'));
explain select makedate(1997,1), addtime("31.12.97 11.59.59.999999 PM", "1 1.1.1.000002"),subtime("31.12.97 11.59.59.999999 PM", "1 1.1.1.000002"),timediff("01.01.97 11:59:59.000001 PM","31.12.95 11:59:59.000002 PM"),cast(str_to_date("15-01-2001 12:59:59", "%d-%m-%Y %H:%i:%S") as TIME), maketime(23,11,12),microsecond("1997-12-31 23:59:59.000001");
create table t1 (d date);
insert into t1 values ('2004-07-14'),('2005-07-14');
select date_format(d,"%d") from t1 order by 1;
drop table t1;
select str_to_date("2003-....01ABCD-02 10:11:12.0012", "%Y-%.%m%@-%d %H:%i:%S.%f") as a;
SET sql_mode = 'NO_ENGINE_SUBSTITUTION';
create table t1 select str_to_date("2003-01-02 10:11:12.0012", "%Y-%m-%d %H:%i:%S.%f") as f1, str_to_date("10:11:12.0012", "%H:%i:%S.%f") as f2, str_to_date("2003-01-02", "%Y-%m-%d") as f3, str_to_date("02", "%d") as f4, str_to_date("02 10", "%d %H") as f5;
describe t1;
select * from t1;
drop table t1;
create table t1 select "02 10" as a, "%d %H" as b;
select str_to_date(a,b) from t1;
create table t2 select str_to_date(a,b) from t1;
describe t2;
select str_to_date("2003-01-02 10:11:12.0012", "%Y-%m-%d %H:%i:%S.%f") as f1, str_to_date("2003-01-02 10:11:12.0012", "%Y-%m-%d %H:%i:%S") as f2, str_to_date("2003-01-02", "%Y-%m-%d") as f3, str_to_date("02 10:11:12", "%d %H:%i:%S.%f") as f4, str_to_date("02 10:11:12", "%d %H:%i:%S") as f5, str_to_date("02 10", "%d %f") as f6;
drop table t1, t2;
select str_to_date("2003-01-02 10:11:12.0012ABCD", "%Y-%m-%d %H:%i:%S.%f") as f1, addtime("-01:01:01.01 GGG", "-23:59:59.1") as f2, microsecond("1997-12-31 23:59:59.01XXXX") as f3;
select str_to_date("2003-04-05  g", "%Y-%m-%d") as f1, str_to_date("2003-04-05 10:11:12.101010234567", "%Y-%m-%d %H:%i:%S.%f") as f2;
SET sql_mode = default;
set names latin1;
select date_format('2004-01-01','%W (%a), %e %M (%b) %Y');
set lc_time_names=ru_RU;
set names koi8r;
select date_format('2004-01-01','%W (%a), %e %M (%b) %Y');
set lc_time_names=de_DE;
set names latin1;
select date_format('2004-01-01','%W (%a), %e %M (%b) %Y');
set names latin1;
set lc_time_names=en_US;
create table t1 (f1 datetime);
insert into t1 (f1) values ("2005-01-01");
insert into t1 (f1) values ("2005-02-01");
select date_format(f1, "%m") as d1, date_format(f1, "%M") as d2 from t1 order by date_format(f1, "%M");
drop table t1;
select str_to_date( 1, NULL );
select str_to_date( NULL, 1 );
select str_to_date( 1, IF(1=1,NULL,NULL) );
SELECT TIME_FORMAT("24:00:00", '%r');
SELECT TIME_FORMAT("00:00:00", '%r');
SELECT TIME_FORMAT("12:00:00", '%r');
SELECT TIME_FORMAT("15:00:00", '%r');
SELECT TIME_FORMAT("01:00:00", '%r');
SELECT TIME_FORMAT("25:00:00", '%r');
SELECT TIME_FORMAT("00:00:00", '%l %p');
SELECT TIME_FORMAT("01:00:00", '%l %p');
SELECT TIME_FORMAT("12:00:00", '%l %p');
SELECT TIME_FORMAT("23:00:00", '%l %p');
SELECT TIME_FORMAT("24:00:00", '%l %p');
SELECT TIME_FORMAT("25:00:00", '%l %p');
SELECT DATE_FORMAT('%Y-%m-%d %H:%i:%s', 1151414896);
select str_to_date('04 /30/2004', '%m /%d/%Y');
select str_to_date('04/30 /2004', '%m /%d /%Y');
select str_to_date('04/30/2004 ', '%m/%d/%Y ');
SELECT DATE_FORMAT("0000-01-01",'%W %d %M %Y') as valid_date;
SELECT DATE_FORMAT("0000-02-28",'%W %d %M %Y') as valid_date;
SELECT DATE_FORMAT("2009-01-01",'%W %d %M %Y') as valid_date;
SET NAMES utf8;
SELECT LEAST('%', GET_FORMAT(datetime, 'eur'), CAST(GET_FORMAT(datetime, 'eur') AS CHAR(65535)));
SET NAMES latin1;
SELECT CAST(TIME_FORMAT(NULL, '%s') AS CHAR);
SELECT CAST(TIME_FORMAT(NULL, '%s') AS SIGNED);
SELECT CAST(TIME_FORMAT(NULL, '%s') AS DECIMAL(23,6));
SELECT CAST(TIME_FORMAT(NULL, '%s') AS TIME);
SELECT CAST(TIME_FORMAT(NULL, '%s') AS DATE);
SELECT CAST(TIME_FORMAT(NULL, '%s') AS DATETIME);
SELECT TIME_FORMAT(NULL, '%s')+0e0;
do str_to_date(1, "%#");
do timestamp(date_format('2011-11-11', right("12345" + 1, 3)));
CREATE TABLE t1 (a varchar(10), PRIMARY KEY (a));
CREATE TABLE t2 (a varchar(10), b date, PRIMARY KEY(a,b));
CREATE TABLE t3 (a varchar(10), b TIME, PRIMARY KEY(a,b));
INSERT INTO t1 VALUES ('test1');
INSERT INTO t2 VALUES ('test1','2016-12-13'),('test1','2016-12-14'),('test1','2016-12-15');
INSERT INTO t3 VALUES ('test1','11:13:14'), ('test1','12:13:14'), ('test1','10:13:14');
ANALYZE TABLE t1, t2, t3;
EXPLAIN SELECT * FROM t1 LEFT JOIN t2 ON t2.a = 'test1' AND t2.b = '20161213' WHERE t1.a = 'test1';
EXPLAIN SELECT * FROM t1 LEFT JOIN t2 IGNORE INDEX(PRIMARY) ON t2.a = 'test1' AND t2.b = '20161213' WHERE t1.a = 'test1';
SELECT * FROM t1 LEFT JOIN t2 ON t2.a = 'test1' AND t2.b = '20161213' WHERE t1.a = 'test1';
SELECT * FROM t1 LEFT JOIN t2 IGNORE INDEX(PRIMARY) ON t2.a = 'test1' AND t2.b = '20161213' WHERE t1.a = 'test1';
SELECT b, b = '20161213', CASE b WHEN '20161213' then 'found' ELSE 'not found' END FROM t2;
SELECT b, b IN ('20161213'), b in ('20161213', 0) FROM t2;
SELECT b, b = '121314', CASE b WHEN '121314' then 'found' ELSE 'not found' END FROM t3;
SELECT b, b in ('121314'), b in ('121314', 0) FROM t3;
DROP TABLE t1, t2, t3;
