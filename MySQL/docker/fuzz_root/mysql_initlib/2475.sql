CREATE USER 'u1'@'localhost' IDENTIFIED BY '123';
FLUSH PRIVILEGES;
FLUSH PRIVILEGES;
FLUSH PRIVILEGES;
FLUSH PRIVILEGES;
CREATE TABLE t1 (c1 int);
DROP TABLE t1;
FLUSH PRIVILEGES;
SHOW GRANTS FOR `u1`@`%`;
FLUSH PRIVILEGES;
SHOW GRANTS FOR `u1`@`%`;
FLUSH PRIVILEGES;
SHOW GRANTS FOR `u1`@`localhost`;
SHOW GRANTS FOR `u1`@`localhost`;
FLUSH PRIVILEGES;
SET GLOBAL event_scheduler = 1;
CREATE DATABASE restricted;
CREATE TABLE restricted.t1 (c1 int, restricted int);
INSERT INTO restricted.t1 VALUES (1,2);
SELECT * from restricted.t1;
USE test;
CALL p1();
CREATE TABLE test.t1 (c1 INT);
INSERT INTO test.t1 VALUES (1);
SELECT * FROM restricted.t1;
DROP TRIGGER test.tr1;
SHOW GRANTS FOR CURRENT_USER();
SELECT * FROM v1;
SELECT * FROM v1;
DROP PROCEDURE p1;
DROP DATABASE restricted;
DROP VIEW test.v1;
DROP TABLE test.t1;
SET GLOBAL event_scheduler = 0;
FLUSH PRIVILEGES;
SHOW GRANTS FOR CURRENT_USER();
DROP USER IF EXISTS u1, r1;
